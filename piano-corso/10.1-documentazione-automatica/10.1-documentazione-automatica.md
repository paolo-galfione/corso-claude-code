# Screencast 10.1: Documentazione Automatica

**Durata**: max 10 minuti
**Modulo**: 10 - Sviluppo Fase 5: Documentazione
**Scopo**: Generare documentazione di qualità con Claude

---

## SLIDE 1: Titolo

**Contenuto slide**:
```
DOCUMENTAZIONE AUTOMATICA

JSDoc + OpenAPI con Claude
```

**Testo da leggere**:
"Il codice è refactored, testato, debuggato. Ultima fase: documentazione. Claude genera JSDoc per il codice sorgente e OpenAPI per le API REST. Documentazione che si mantiene sincronizzata col codice."

---

## SLIDE 2: Due Livelli di Documentazione

**Contenuto slide**:
```
DUE LIVELLI DI DOCUMENTAZIONE

┌─────────────────────────────────────────┐
│  JSDoc - Per sviluppatori               │
│  └─ Documenta funzioni e classi         │
│  └─ Parametri, return, esempi           │
│  └─ Visibile nell'IDE                   │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│  OpenAPI - Per consumatori API          │
│  └─ Documenta endpoint REST             │
│  └─ Request/Response schema             │
│  └─ Generabile in Swagger UI            │
└─────────────────────────────────────────┘
```

**Testo da leggere**:
"Due tipi di documentazione. JSDoc per chi sviluppa: documenta il codice interno. OpenAPI per chi usa le API: documenta gli endpoint pubblici. Entrambe generate automaticamente da Claude."

---

## SLIDE 3: JSDoc

**Contenuto slide**:
```
JSDOC

/**
 * Recupera tutti i clienti con filtri opzionali.
 *
 * @param {Object} filters - Filtri da applicare
 * @param {string} [filters.city] - Filtra per città
 * @param {string} [filters.country] - Filtra per paese
 * @returns {Promise<Array<Customer>>} Lista di clienti
 * @throws {Error} Se la connessione al DB fallisce
 *
 * @example
 * const customers = await service.getAllCustomers({ city: 'London' });
 */
async getAllCustomers(filters = {}) {
  // ...
}
```

**Testo da leggere**:
"JSDoc documenta direttamente nel codice. Descrizione della funzione, parametri con tipi, valore di ritorno, errori possibili, esempi. L'IDE mostra queste informazioni mentre scrivi."

---

## DEMO 1: Generare JSDoc per i Service

**Cosa mostrare**:

1. Prompt:

```
Aggiungi documentazione JSDoc a customerService.js.

Per ogni metodo pubblico documenta:
- Descrizione chiara di cosa fa
- Parametri con tipi e descrizione
- Valore di ritorno con tipo
- Possibili errori
- Un esempio d'uso

Segui lo stile JSDoc standard.
```

2. Claude aggiunge JSDoc:

```javascript
/**
 * CustomerService gestisce la logica di business per i clienti.
 */
class CustomerService {
  /**
   * Crea una nuova istanza di CustomerService.
   * @param {CustomerRepository} repository - Repository per accesso dati
   */
  constructor(repository) {
    this.repository = repository;
  }

  /**
   * Recupera tutti i clienti, opzionalmente filtrati.
   *
   * @param {Object} [filters={}] - Filtri opzionali
   * @param {string} [filters.city] - Filtra per città
   * @param {string} [filters.country] - Filtra per paese
   * @returns {Promise<Customer[]>} Array di clienti
   * @throws {DatabaseError} Se la query fallisce
   *
   * @example
   * // Tutti i clienti
   * const all = await service.getAllCustomers();
   *
   * @example
   * // Solo clienti di Londra
   * const london = await service.getAllCustomers({ city: 'London' });
   */
  async getAllCustomers(filters = {}) {
    return this.repository.getAll(filters);
  }
}
```

3. Mostrare come l'IDE mostra la documentazione

**Testo da leggere durante la demo**:
"Claude genera JSDoc completo. Guardate: descrizione, parametri tipizzati, esempi. Ora nell'IDE, quando uso il service, vedo questa documentazione. Aiuto contestuale generato automaticamente."

---

## SLIDE 4: OpenAPI/Swagger

**Contenuto slide**:
```
OPENAPI

openapi: 3.0.0
info:
  title: Northwind API
  version: 1.0.0

paths:
  /customers:
    get:
      summary: Lista tutti i clienti
      parameters:
        - name: city
          in: query
          schema:
            type: string
      responses:
        '200':
          description: Lista di clienti
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Customer'
```

**Testo da leggere**:
"OpenAPI è lo standard per documentare API REST. Definisce endpoint, parametri, risposte, schemi. Da questo file si genera Swagger UI: documentazione interattiva dove puoi anche testare le API."

---

## DEMO 2: Generare OpenAPI

**Cosa mostrare**:

1. Prompt:

```
Genera la specifica OpenAPI 3.0 per tutte le API del backend.

Includi:
- Tutti gli endpoint (Customers, Orders, OrderDetails)
- Parametri query per i filtri
- Schema delle risposte
- Codici di errore
- Esempi di response

Salva in /docs/openapi.yaml
```

2. Claude genera il file OpenAPI completo

3. Mostrare come visualizzarlo (se c'è tempo):

```bash
npx swagger-ui-express
# o
# apri in https://editor.swagger.io
```

**Testo da leggere durante la demo**:
"Claude genera la specifica OpenAPI completa. Tutti gli endpoint, parametri, schemi. Da questo file possiamo generare Swagger UI: documentazione interattiva per chi usa le nostre API."

---

## SLIDE 5: Mantenere la Documentazione Sincronizzata

**Contenuto slide**:
```
MANTENERE LA DOCUMENTAZIONE SINCRONIZZATA

Problema:
La documentazione diventa obsoleta se non aggiornata

Soluzioni:

1. Hook post-modifica
   └─ Rigenera docs quando cambia il codice

2. CI/CD check
   └─ Verifica che docs siano aggiornate

3. Convenzione team
   └─ "Ogni PR include aggiornamento docs"

4. Claude on-demand
   └─ "Aggiorna la documentazione per le modifiche fatte"
```

**Testo da leggere**:
"La documentazione diventa obsoleta. Soluzioni: hook che rigenera automaticamente, check in CI che verifica, convenzioni team. Oppure semplicemente: dopo ogni modifica, chiedete a Claude di aggiornare i docs."

---

## DEMO 3: Aggiornare Documentazione Dopo Modifica

**Cosa mostrare**:

1. Simulare una modifica al codice (aggiungere un nuovo parametro)

2. Prompt:

```
Ho aggiunto un parametro 'contactName' al filtro dei customers.
Aggiorna:
1. JSDoc del metodo getAllCustomers
2. Specifica OpenAPI per GET /customers
```

3. Claude aggiorna entrambi i documenti in modo coerente

**Testo da leggere durante la demo**:
"Dopo una modifica, aggiorniamo i docs. Nuovo parametro contactName: Claude aggiorna sia JSDoc che OpenAPI. Documentazione sempre sincronizzata con il codice, senza sforzo manuale."

---

## SLIDE 6: Validazione della Documentazione

**Contenuto slide**:
```
VALIDAZIONE DELLA DOCUMENTAZIONE

JSDoc:
- TypeScript compiler (se usato)
- ESLint plugin jsdoc

OpenAPI:
- Swagger Validator
- Redocly CLI

npm run validate:docs
└─ Verifica JSDoc e OpenAPI

┌─────────────────────────────────────────┐
│  Documentazione sbagliata è peggio      │
│  di nessuna documentazione              │
└─────────────────────────────────────────┘
```

**Testo da leggere**:
"La documentazione va validata. Tool come ESLint plugin per JSDoc e Swagger Validator per OpenAPI verificano che sia corretta. Documentazione errata è peggio di nessuna documentazione: inganna chi la legge."

---

## SLIDE 7: Documentazione Generata

**Contenuto slide**:
```
RISULTATO FINALE

/docs
├── openapi.yaml        → Specifica API
├── swagger-ui/         → UI interattiva
└── jsdoc/              → Documentazione codice

Ogni file sorgente:
└─ JSDoc su classi e metodi pubblici

README.md aggiornato:
└─ Link a documentazione generata
└─ Istruzioni per visualizzarla
```

**Testo da leggere**:
"Il risultato: documentazione completa. OpenAPI in /docs, JSDoc nei sorgenti, README con link a tutto. Chiunque arrivi sul progetto sa dove trovare la documentazione e come usarla."

---

## SLIDE 8: Takeaway

**Contenuto slide**:
```
TAKEAWAY

✓ JSDoc per sviluppatori, OpenAPI per consumatori API
✓ Claude genera documentazione completa
✓ Mantenere sincronizzata con hook o convenzioni
✓ Validare automaticamente
✓ Documentazione = parte del codice

Fine Fase 5 - Refactoring Completo!
Prossimo modulo: Retrospettiva
```

**Testo da leggere**:
"Documentazione completata. JSDoc e OpenAPI generati da Claude, validati automaticamente. Il refactoring è completo! Nel prossimo e ultimo modulo facciamo una retrospettiva del percorso e guardiamo ai prossimi passi."

---

## Note di Produzione

- Mostrare JSDoc visibile nell'IDE (hover sulla funzione)
- Se possibile, mostrare Swagger UI generato
- Enfatizzare che Claude mantiene coerenza tra JSDoc e OpenAPI
- Tempo: slide 4 min, demo 5 min, margine 1 min
