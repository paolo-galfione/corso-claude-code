# Screencast 1.3: Architettura di Claude Code

**Durata**: max 10 minuti
**Modulo**: 1 - Fondamenti
**Scopo**: Overview tecnica degli strumenti disponibili in Claude Code

---

## SLIDE 1: Titolo

**Contenuto slide**:
```
ARCHITETTURA DI CLAUDE CODE

Gli strumenti dell'agente
```

**Testo da leggere**:
"Ora che abbiamo capito il paradigma agentico e la supervisione graduata, vediamo quali strumenti Claude Code mette a disposizione. Questa è una panoramica: ogni strumento verrà approfondito negli screencast dedicati."

---

## SLIDE 2: L'Ecosistema Claude Code

**Contenuto slide**:
```
L'ECOSISTEMA

                    ┌─────────────┐
                    │  CLAUDE.md  │
                    │  (Contesto) │
                    └──────┬──────┘
                           │
    ┌──────────────────────┼──────────────────────┐
    │                      │                      │
    ▼                      ▼                      ▼
┌─────────┐         ┌─────────────┐         ┌─────────┐
│Commands │         │  Plan Mode  │         │  Hooks  │
│& Skills │         │             │         │         │
└─────────┘         └─────────────┘         └─────────┘
    │                      │                      │
    └──────────────────────┼──────────────────────┘
                           │
              ┌────────────┼────────────┐
              │            │            │
              ▼            ▼            ▼
        ┌──────────┐ ┌──────────┐ ┌──────────┐
        │   MCP    │ │Subagenti │ │  Tools   │
        │ Servers  │ │          │ │ Interni  │
        └──────────┘ └──────────┘ └──────────┘
```

**Testo da leggere**:
"L'ecosistema Claude Code ha sei componenti principali. Al centro CLAUDE.md, il contesto persistente. Commands e Skills per automazione. Plan Mode per pianificazione. Hooks per trigger automatici. MCP Servers per estendere le capacità. E i Subagenti per delegare task specializzati mantenendo il contesto pulito."

---

## SLIDE 3: CLAUDE.md - Il Contesto

**Contenuto slide**:
```
CLAUDE.md

Il "cervello" del progetto per l'agente

┌─────────────────────────────────────────┐
│  # Progetto: Backend API               │
│                                         │
│  ## Architettura                        │
│  - Pattern: 3-tier (API/Service/Repo)   │
│  - ORM: Knex.js                         │
│  - Test: Jest                           │
│                                         │
│  ## Regole                              │
│  - Sempre eseguire test prima di commit │
│  - Non modificare file in /migrations   │
│                                         │
│  ## Contesto attuale                    │
│  - Fase 2 del refactoring               │
│  - Focus su Order endpoints             │
└─────────────────────────────────────────┘
```

**Testo da leggere**:
"CLAUDE.md è il file più importante. Contiene tutto ciò che l'agente deve sapere: architettura del progetto, convenzioni, regole da seguire, contesto attuale del lavoro. L'agente lo legge all'inizio di ogni sessione. Più è completo, meglio l'agente capisce cosa fare e come."

---

## SLIDE 4: Custom Commands

**Contenuto slide**:
```
CUSTOM COMMANDS

Comandi personalizzati per task ripetitivi

Esempio: /new-endpoint

┌─────────────────────────────────────────┐
│  Crea un nuovo endpoint seguendo:       │
│  - Pattern del progetto                 │
│  - Struttura 3-tier                     │
│  - Test di base                         │
│  - Documentazione OpenAPI               │
└─────────────────────────────────────────┘

Un comando = un workflow standardizzato
```

**Testo da leggere**:
"I Custom Commands sono scorciatoie per task complessi. Invece di spiegare ogni volta come creare un endpoint, create un comando /new-endpoint che esegue tutto il workflow: crea il file, applica il pattern, aggiunge i test base, genera la documentazione. Un comando, un workflow standardizzato."

---

## SLIDE 5: Skills

**Contenuto slide**:
```
SKILLS

Competenze riutilizzabili e condivisibili

┌─────────────────────────────────────────┐
│  skill: refactoring-3tier               │
│                                         │
│  "So come trasformare codice spaghetti  │
│   in architettura 3-tier. Conosco i     │
│   pattern, so dove mettere cosa, so     │
│   come testare la trasformazione."      │
└─────────────────────────────────────────┘

Le skill possono essere:
- Specifiche del progetto
- Condivise nel team
- Distribuite come pacchetti
```

**Testo da leggere**:
"Le Skills sono competenze che l'agente può acquisire. Una skill non è un singolo comando, è un insieme di conoscenze su come affrontare un tipo di problema. L'Architetto può creare skill e distribuirle al team, garantendo che tutti gli agenti lavorino nello stesso modo."

---

## SLIDE 6: Plan Mode

**Contenuto slide**:
```
PLAN MODE

Pianificazione strutturata prima dell'esecuzione

┌─────────────────────────────────────────┐
│  > /plan "Refactoring endpoint orders"  │
│                                         │
│  Claude analizza e propone:             │
│                                         │
│  Fase 1: Estrazione Service Layer       │
│  - File da creare: orderService.js      │
│  - Metodi da estrarre: getAll, getById  │
│  - Test da aggiungere: 3                │
│                                         │
│  Fase 2: Estrazione Repository          │
│  - ...                                  │
│                                         │
│  [Approva] [Modifica] [Annulla]         │
└─────────────────────────────────────────┘
```

**Testo da leggere**:
"Plan Mode è lo strumento trasversale a tutti i ruoli. Prima di eseguire, Claude analizza il task e propone un piano dettagliato. Voi potete approvare, modificare o annullare. È il ponte tra l'intenzione umana e l'esecuzione dell'agente."

---

## SLIDE 7: Hooks

**Contenuto slide**:
```
HOOKS

Trigger automatici su eventi

┌─────────────────────────────────────────┐
│  hook: pre-commit                       │
│  azione: esegui test                    │
│  se fallisce: blocca commit             │
│                                         │
│  hook: post-file-create                 │
│  azione: applica linting                │
│  azione: aggiungi header standard       │
│                                         │
│  hook: on-error                         │
│  azione: log dettagliato                │
│  azione: notifica se critico            │
└─────────────────────────────────────────┘
```

**Testo da leggere**:
"Gli Hooks sono trigger automatici. Definite cosa deve succedere quando si verifica un evento: prima di un commit, dopo la creazione di un file, quando c'è un errore. Gli hooks garantiscono che certe regole vengano sempre rispettate, senza intervento manuale."

---

## SLIDE 8: MCP Servers

**Contenuto slide**:
```
MCP SERVERS

Model Context Protocol - Estensioni delle capacità

┌──────────────┬────────────────────────────┐
│ MCP Server   │ Cosa permette              │
├──────────────┼────────────────────────────┤
│ Filesystem   │ Accesso a file fuori       │
│              │ dal workspace              │
├──────────────┼────────────────────────────┤
│ SQLite       │ Query dirette sul DB       │
│              │ per analisi e debug        │
├──────────────┼────────────────────────────┤
│ GitHub       │ Gestione issues, PR,       │
│              │ code review integrate      │
└──────────────┴────────────────────────────┘

Gli MCP estendono ciò che l'agente può fare
```

**Testo da leggere**:
"Gli MCP Servers estendono le capacità di Claude Code. Con MCP Filesystem può accedere a file ovunque nel sistema. Con MCP SQLite può fare query dirette sul database. Con MCP GitHub può gestire issues e pull request. Sono plugin che ampliano il raggio d'azione dell'agente."

---

## SLIDE 8b: Subagenti

**Contenuto slide**:
```
SUBAGENTI

Agenti specializzati per task specifici

┌─────────────────────────────────────────┐
│  Problema: contesto che si satura       │
│  └─ Troppi domini diversi insieme       │
│                                         │
│  Soluzione: subagenti specializzati     │
│  └─ Ogni subagente = un dominio         │
│  └─ Contesto pulito e focalizzato       │
│  └─ Parallelizzazione possibile         │
└─────────────────────────────────────────┘

Test Agent, Refactoring Agent,
Documentation Agent, Code Review Agent
```

**Testo da leggere**:
"I Subagenti risolvono il problema del contesto saturo. Quando un task tocca domini diversi, l'agente principale può delegare a subagenti specializzati. Ogni subagente ha contesto pulito, focalizzato sul suo dominio. Vedremo nel dettaglio come usarli nello screencast dedicato."

---

## SLIDE 9: Come si Combinano

**Contenuto slide**:
```
UN ESEMPIO COMPLETO

1. CLAUDE.md definisce il progetto
   └─ "Stiamo refactorando verso 3-tier"

2. Plan Mode analizza il task
   └─ "Ecco le fasi per questo endpoint"

3. Custom Command avvia il lavoro
   └─ /refactor-endpoint orders

4. Skill applica le competenze
   └─ "So come fare questa trasformazione"

5. Hook verifica il risultato
   └─ "Test passati, codice formattato"

6. MCP SQLite valida i dati
   └─ "Query di test confermano risultati"
```

**Testo da leggere**:
"Questi strumenti lavorano insieme. Il CLAUDE.md fornisce contesto, Plan Mode struttura il lavoro, un Command avvia l'esecuzione, le Skill guidano le scelte tecniche, gli Hook garantiscono qualità, gli MCP danno accesso a risorse esterne. Un ecosistema completo."

---

## SLIDE 10: Chi Usa Cosa

**Contenuto slide**:
```
STRUMENTI PER RUOLO

Product Owner
└─ Plan Mode (analisi), CLAUDE.md (lettura)

Architetto
└─ CLAUDE.md, Commands, Skills, Hooks, MCP, Subagenti

Analista Funzionale
└─ Plan Mode, generazione documenti

Sviluppatore
└─ Tutti + Subagenti (in esecuzione supervisionata)
```

**Testo da leggere**:
"Ogni ruolo usa strumenti diversi. L'Architetto è il creatore: definisce CLAUDE.md, crea Commands, Skills, Hooks, configura Subagenti. Il Product Owner e l'Analista usano principalmente Plan Mode. Lo sviluppatore usa tutto quello che l'Architetto ha preparato, inclusi i subagenti specializzati. Nei prossimi moduli vedremo ogni ruolo in azione."

---

## SLIDE 11: Takeaway

**Contenuto slide**:
```
TAKEAWAY

✓ CLAUDE.md = contesto persistente del progetto
✓ Commands/Skills = automazione e competenze riutilizzabili
✓ Plan Mode = pianificazione prima dell'esecuzione
✓ Hooks = trigger automatici per garantire qualità
✓ MCP Servers = estensione delle capacità
✓ Subagenti = specializzazione e contesto pulito

Prossimo modulo: Il Product Owner
```

**Testo da leggere**:
"Ricapitolando: CLAUDE.md è il contesto, Commands e Skills automatizzano, Plan Mode pianifica, Hooks garantiscono qualità, MCP estendono le capacità, Subagenti mantengono il contesto pulito e specializzato. Nel prossimo modulo vedremo il primo ruolo in azione: il Product Owner che usa Claude per analizzare requisiti e validare soluzioni."

---

## Note di Produzione

- Slide con diagrammi devono essere chiare e leggibili
- Nessuna demo in questo screencast: è una overview
- Ogni strumento avrà demo dedicate nei moduli successivi
- Tempo stimato: 9 minuti di slide, 1 minuto di margine
